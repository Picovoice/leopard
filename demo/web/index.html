<!doctype html>
<html lang="en">
  <head>
    <script src="node_modules/@picovoice/leopard-web/dist/iife/index.js"></script>
    <script src="node_modules/@picovoice/web-voice-processor/dist/iife/index.js"></script>
    <script type="application/javascript" src="scripts/leopard.js"></script>
    <script>
      const script = document.createElement('script');
      script.src = 'models/leopardModel.js?t=' + Date.now();
      document.head.appendChild(script);
    </script>
  </head>
  <body>
    <h1>Leopard Web Demo</h1>
    <p>This demo uses Leopard for Web to:</p>
    <ol>
      <li>Create an instance of Leopard with the default language model.</li>
      <li>
        Process/transcribe an audio file or a recorded audio stream in browser:
        the data does not leave the browser while Leopard processes the audio
        data.
      </li>
    </ol>
    After entering the AccessKey, click the "Start Leopard" button.
    <hr />
    <label for="accessKey"
      >AccessKey obtained from
      <a href="https://console.picovoice.ai/">Picovoice Console</a>:</label
    >
    <input type="text" id="accessKey" name="accessKey" />
    <input
      type="button"
      id="submit"
      value="Start Leopard"
      onclick="startLeopard(document.getElementById('accessKey').value)"
    />
    <hr />
    <div id="control" style="display: none">
      <label for="audioFile">Choose audio file to transcribe:</label>
      <input type="file" id="audioFile" name="audioFile" />
      <p><b>OR</b></p>
      <label for="recordAudio"
        >Record audio to transcribe (up to 2 minutes):</label
      >
      <button id="recordAudio">Record Audio</button>
      <span id="displayTimer" style="display: none"></span>
      <button id="stopRecord" style="display: none">Stop Recording</button>
      <hr />
    </div>
    <div id="status" style="white-space: pre"></div>
    <br />
    <div id="result"></div>
    <br />
    <table id="words"></table>
  </body>
</html>
